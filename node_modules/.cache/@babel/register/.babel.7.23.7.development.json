{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\finalProject\\\\Final_Project\\\\src\\\\open-chats\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\finalProject\\\\Final_Project\",\"filename\":\"C:\\\\finalProject\\\\Final_Project\\\\src\\\\open-chats\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\finalProject\\\\Final_Project\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.7:development":{"value":{"code":"\"use strict\";\n\nvar _http = _interopRequireDefault(require(\"http\"));\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _process = require(\"process\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// http import 하기\n\n// ws import 하기\n// import WebSocket from \"ws\";\n\nvar jwt = require(\"jsonwebtoken\");\nvar app = (0, _express[\"default\"])();\n\n// Pug로 view engine을 설정\napp.set(\"view engine\", \"pug\");\n\n// views 디렉토리 입력\napp.set(\"views\", __dirname + \"/views\");\n\n// 유저가 /public 으로 가게되면 __ dirname + \"/public\" 폴더 보여줌\napp.use(\"/public\", _express[\"default\"][\"static\"](__dirname + \"/public\"));\n\n// home.pug를 render해주는 route handler를 생성 -> home.pug로 화면 전환\napp.get(\"/\", function (req, res) {\n  return res.render(\"home\");\n});\n\n// 유저가 어떤 url로 이동하던지 홈으로 돌려보내는 코드\napp.get(\"/*\", function (req, res) {\n  return res.redirect(\"/\");\n});\n\n//스프링으로부터 토큰을 받은 후 필요한 정보 추출\nvar token = \"tokenWithUserIdAndName\";\nconsole.log(\"token : \" + token);\nvar secretKey = \"secret_key_chat_token\";\ntry {\n  var decoded = jwt.verify(token, secretKey);\n  console.log(decoded);\n  var _userName = decoded.userName;\n  var _roomName = decoded.roomName;\n  console.log(\"userName : \" + _userName);\n  console.log(\"roomName : \" + _roomName);\n} catch (error) {\n  console.error(\"토큰 검증 실패:\", error.message);\n}\n\n//app.js로 값 전달\nmodule.exports = {\n  userName: userName,\n  roomName: roomName\n};\nvar handleListen = function handleListen() {\n  return console.log(\"Listening on http://localhost:3000\");\n};\nvar httpServer = _http[\"default\"].createServer(app);\nvar wsServer = (0, _socket[\"default\"])(httpServer);\n\n// Backend에서 socket을 사용할 준비 완료\nwsServer.on(\"connection\", function (socket) {\n  // middleware -> 어떤 event에서든지 console.log를 할 수 있다(socket에 있는 모든 event를 확인가능)\n  socket.onAny(function (event) {\n    console.log(\"Socket event : \".concat(event));\n  });\n  // frontend와 동일하게 원하는 이름으로 지정 가능 -> 단, frontend와 동일한 이름이어야 한다.\n  // done은 frontend의 익명함수를 의미 -> 서버는 backend에서 함수를 호출, 함수는 frontend에서 실행\n  socket.on(\"enter_room\", function (roomName, nickname, done) {\n    //닉네임 저장하기\n    socket[\"nickname\"] = nickname;\n    // 방에 참가하는 코드 => socket.join 사용\n    socket.join(roomName);\n    //app.js에 있는 showRoom() 실행\n    done();\n    //\"welcome\" 이벤트를 방 안에 있는 모든 사람에게 emit -> 나를 제외한 socket에 전송\n    socket.to(roomName).emit(\"welcome\", socket.nickname);\n  });\n\n  // 방과 연결 종료\n  socket.on(\"disconnecting\", function () {\n    // 클라이언트가 서버와 연결이 끊어지기 전에 \"bye\" message 전송\n    // socket.rooms({방 id, 방이름}) => 중복되는 요소가 없는 배열인 set -> 그레서 forEach 사용 가능\n    socket.rooms.forEach(function (room) {\n      return socket.to(room).emit(\"bye\", socket.nickname);\n    });\n  });\n\n  // 메세지 보내기\n  // roomName을 통해 어떤 방으로 메세지를 보내야 하는지 알 수 있음\n  socket.on(\"new_message\", function (msg, roomName, done) {\n    socket.to(roomName).emit(\"new_message\", \"\".concat(socket[\"nickname\"], \" : \").concat(msg));\n    // done()을 호츨하면 app.js에 있는 handleMessageSubmit() 안의 익명 함수를 실행\n    done();\n  });\n});\nhttpServer.listen(3000, handleListen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaHR0cCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3NvY2tldCIsIl9leHByZXNzIiwiX3Byb2Nlc3MiLCJvYmoiLCJfX2VzTW9kdWxlIiwiand0IiwiYXBwIiwiZXhwcmVzcyIsInNldCIsIl9fZGlybmFtZSIsInVzZSIsImdldCIsInJlcSIsInJlcyIsInJlbmRlciIsInJlZGlyZWN0IiwidG9rZW4iLCJjb25zb2xlIiwibG9nIiwic2VjcmV0S2V5IiwiZGVjb2RlZCIsInZlcmlmeSIsInVzZXJOYW1lIiwicm9vbU5hbWUiLCJlcnJvciIsIm1lc3NhZ2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiaGFuZGxlTGlzdGVuIiwiaHR0cFNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJ3c1NlcnZlciIsIlNvY2tldElPIiwib24iLCJzb2NrZXQiLCJvbkFueSIsImV2ZW50IiwiY29uY2F0Iiwibmlja25hbWUiLCJkb25lIiwiam9pbiIsInRvIiwiZW1pdCIsInJvb21zIiwiZm9yRWFjaCIsInJvb20iLCJtc2ciLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxmaW5hbFByb2plY3RcXEZpbmFsX1Byb2plY3RcXHNyY1xcb3Blbi1jaGF0c1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cCBpbXBvcnQg7ZWY6riwXHJcbmltcG9ydCBodHRwIGZyb20gXCJodHRwXCI7XHJcbi8vIHdzIGltcG9ydCDtlZjquLBcclxuLy8gaW1wb3J0IFdlYlNvY2tldCBmcm9tIFwid3NcIjtcclxuaW1wb3J0IFNvY2tldElPIGZyb20gXCJzb2NrZXQuaW9cIjtcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHsgZW1pdCB9IGZyb20gXCJwcm9jZXNzXCI7XHJcblxyXG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy8gUHVn66GcIHZpZXcgZW5naW5l7J2EIOyEpOyglVxyXG5hcHAuc2V0KFwidmlldyBlbmdpbmVcIiwgXCJwdWdcIik7XHJcblxyXG4vLyB2aWV3cyDrlJTroInthqDrpqwg7J6F66ClXHJcbmFwcC5zZXQoXCJ2aWV3c1wiLCBfX2Rpcm5hbWUgKyBcIi92aWV3c1wiKTtcclxuXHJcbi8vIOycoOyggOqwgCAvcHVibGljIOycvOuhnCDqsIDqsozrkJjrqbQgX18gZGlybmFtZSArIFwiL3B1YmxpY1wiIO2PtOuNlCDrs7Tsl6zspIxcclxuYXBwLnVzZShcIi9wdWJsaWNcIiwgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgXCIvcHVibGljXCIpKTtcclxuXHJcbi8vIGhvbWUucHVn66W8IHJlbmRlcu2VtOyjvOuKlCByb3V0ZSBoYW5kbGVy66W8IOyDneyEsSAtPiBob21lLnB1Z+uhnCDtmZTrqbQg7KCE7ZmYXHJcbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4gcmVzLnJlbmRlcihcImhvbWVcIikpO1xyXG5cclxuLy8g7Jyg7KCA6rCAIOyWtOuWpCB1cmzroZwg7J2064+Z7ZWY642Y7KeAIO2ZiOycvOuhnCDrj4zroKTrs7TrgrTripQg7L2U65OcXHJcbmFwcC5nZXQoXCIvKlwiLCAocmVxLCByZXMpID0+IHJlcy5yZWRpcmVjdChcIi9cIikpO1xyXG5cclxuLy/siqTtlITrp4HsnLzroZzrtoDthLAg7Yag7YGw7J2EIOuwm+ydgCDtm4Qg7ZWE7JqU7ZWcIOygleuztCDstpTstpxcclxuY29uc3QgdG9rZW4gPSBcInRva2VuV2l0aFVzZXJJZEFuZE5hbWVcIjtcclxuY29uc29sZS5sb2coXCJ0b2tlbiA6IFwiICsgdG9rZW4pO1xyXG5jb25zdCBzZWNyZXRLZXkgPSBcInNlY3JldF9rZXlfY2hhdF90b2tlblwiO1xyXG5cclxudHJ5IHtcclxuICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgc2VjcmV0S2V5KTtcclxuICBjb25zb2xlLmxvZyhkZWNvZGVkKTtcclxuICBjb25zdCB1c2VyTmFtZSA9IGRlY29kZWQudXNlck5hbWU7XHJcbiAgY29uc3Qgcm9vbU5hbWUgPSBkZWNvZGVkLnJvb21OYW1lO1xyXG4gIGNvbnNvbGUubG9nKFwidXNlck5hbWUgOiBcIiArIHVzZXJOYW1lKTtcclxuICBjb25zb2xlLmxvZyhcInJvb21OYW1lIDogXCIgKyByb29tTmFtZSk7XHJcbn0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgY29uc29sZS5lcnJvcihcIu2GoO2BsCDqsoDspp0g7Iuk7YyoOlwiLCBlcnJvci5tZXNzYWdlKTtcclxufVxyXG5cclxuLy9hcHAuanProZwg6rCSIOyghOuLrFxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICB1c2VyTmFtZTogdXNlck5hbWUsXHJcbiAgcm9vbU5hbWU6IHJvb21OYW1lLFxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTGlzdGVuID0gKCkgPT4gY29uc29sZS5sb2coYExpc3RlbmluZyBvbiBodHRwOi8vbG9jYWxob3N0OjMwMDBgKTtcclxuXHJcbmNvbnN0IGh0dHBTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xyXG5jb25zdCB3c1NlcnZlciA9IFNvY2tldElPKGh0dHBTZXJ2ZXIpO1xyXG5cclxuLy8gQmFja2VuZOyXkOyEnCBzb2NrZXTsnYQg7IKs7Jqp7ZWgIOykgOu5hCDsmYTro4xcclxud3NTZXJ2ZXIub24oXCJjb25uZWN0aW9uXCIsIChzb2NrZXQpID0+IHtcclxuICAvLyBtaWRkbGV3YXJlIC0+IOyWtOuWpCBldmVudOyXkOyEnOuToOyngCBjb25zb2xlLmxvZ+ulvCDtlaAg7IiYIOyeiOuLpChzb2NrZXTsl5Ag7J6I64qUIOuqqOuToCBldmVudOulvCDtmZXsnbjqsIDriqUpXHJcbiAgc29ja2V0Lm9uQW55KChldmVudCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYFNvY2tldCBldmVudCA6ICR7ZXZlbnR9YCk7XHJcbiAgfSk7XHJcbiAgLy8gZnJvbnRlbmTsmYAg64+Z7J287ZWY6rKMIOybkO2VmOuKlCDsnbTrpoTsnLzroZwg7KeA7KCVIOqwgOuKpSAtPiDri6gsIGZyb250ZW5k7JmAIOuPmeydvO2VnCDsnbTrpoTsnbTslrTslbwg7ZWc64ukLlxyXG4gIC8vIGRvbmXsnYAgZnJvbnRlbmTsnZgg7J2166qF7ZWo7IiY66W8IOydmOuvuCAtPiDshJzrsoTripQgYmFja2VuZOyXkOyEnCDtlajsiJjrpbwg7Zi47LacLCDtlajsiJjripQgZnJvbnRlbmTsl5DshJwg7Iuk7ZaJXHJcbiAgc29ja2V0Lm9uKFwiZW50ZXJfcm9vbVwiLCAocm9vbU5hbWUsIG5pY2tuYW1lLCBkb25lKSA9PiB7XHJcbiAgICAvL+uLieuEpOyehCDsoIDsnqXtlZjquLBcclxuICAgIHNvY2tldFtcIm5pY2tuYW1lXCJdID0gbmlja25hbWU7XHJcbiAgICAvLyDrsKnsl5Ag7LC46rCA7ZWY64qUIOy9lOuTnCA9PiBzb2NrZXQuam9pbiDsgqzsmqlcclxuICAgIHNvY2tldC5qb2luKHJvb21OYW1lKTtcclxuICAgIC8vYXBwLmpz7JeQIOyeiOuKlCBzaG93Um9vbSgpIOyLpO2WiVxyXG4gICAgZG9uZSgpO1xyXG4gICAgLy9cIndlbGNvbWVcIiDsnbTrsqTtirjrpbwg67CpIOyViOyXkCDsnojripQg66qo65OgIOyCrOuejOyXkOqyjCBlbWl0IC0+IOuCmOulvCDsoJzsmbjtlZwgc29ja2V07JeQIOyghOyGoVxyXG4gICAgc29ja2V0LnRvKHJvb21OYW1lKS5lbWl0KFwid2VsY29tZVwiLCBzb2NrZXQubmlja25hbWUpO1xyXG4gIH0pO1xyXG5cclxuICAvLyDrsKnqs7wg7Jew6rKwIOyiheujjFxyXG4gIHNvY2tldC5vbihcImRpc2Nvbm5lY3RpbmdcIiwgKCkgPT4ge1xyXG4gICAgLy8g7YG065287J207Ja47Yq46rCAIOyEnOuyhOyZgCDsl7DqsrDsnbQg64GK7Ja07KeA6riwIOyghOyXkCBcImJ5ZVwiIG1lc3NhZ2Ug7KCE7IahXHJcbiAgICAvLyBzb2NrZXQucm9vbXMoe+uwqSBpZCwg67Cp7J2066aEfSkgPT4g7KSR67O165CY64qUIOyalOyGjOqwgCDsl4bripQg67Cw7Je07J24IHNldCAtPiDqt7jroIjshJwgZm9yRWFjaCDsgqzsmqkg6rCA64qlXHJcbiAgICBzb2NrZXQucm9vbXMuZm9yRWFjaCgocm9vbSkgPT5cclxuICAgICAgc29ja2V0LnRvKHJvb20pLmVtaXQoXCJieWVcIiwgc29ja2V0Lm5pY2tuYW1lKVxyXG4gICAgKTtcclxuICB9KTtcclxuXHJcbiAgLy8g66mU7IS47KeAIOuztOuCtOq4sFxyXG4gIC8vIHJvb21OYW1l7J2EIO2Gte2VtCDslrTrlqQg67Cp7Jy866GcIOuplOyEuOyngOulvCDrs7TrgrTslbwg7ZWY64qU7KeAIOyVjCDsiJgg7J6I7J2MXHJcbiAgc29ja2V0Lm9uKFwibmV3X21lc3NhZ2VcIiwgKG1zZywgcm9vbU5hbWUsIGRvbmUpID0+IHtcclxuICAgIHNvY2tldC50byhyb29tTmFtZSkuZW1pdChcIm5ld19tZXNzYWdlXCIsIGAke3NvY2tldFtcIm5pY2tuYW1lXCJdfSA6ICR7bXNnfWApO1xyXG4gICAgLy8gZG9uZSgp7J2EIO2YuOy4qO2VmOuptCBhcHAuanPsl5Ag7J6I64qUIGhhbmRsZU1lc3NhZ2VTdWJtaXQoKSDslYjsnZgg7J2166qFIO2VqOyImOulvCDsi6TtlolcclxuICAgIGRvbmUoKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5odHRwU2VydmVyLmxpc3RlbigzMDAwLCBoYW5kbGVMaXN0ZW4pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQ0EsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSCxPQUFBO0FBQStCLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsZ0JBQUFBLEdBQUE7QUFOL0I7O0FBRUE7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","map":{"version":3,"names":["_http","_interopRequireDefault","require","_socket","_express","_process","obj","__esModule","jwt","app","express","set","__dirname","use","get","req","res","render","redirect","token","console","log","secretKey","decoded","verify","userName","roomName","error","message","module","exports","handleListen","httpServer","http","createServer","wsServer","SocketIO","on","socket","onAny","event","concat","nickname","done","join","to","emit","rooms","forEach","room","msg","listen"],"sourceRoot":"C:\\finalProject\\Final_Project\\src\\open-chats\\","sources":["server.js"],"sourcesContent":["// http import 하기\r\nimport http from \"http\";\r\n// ws import 하기\r\n// import WebSocket from \"ws\";\r\nimport SocketIO from \"socket.io\";\r\nimport express from \"express\";\r\nimport { emit } from \"process\";\r\n\r\nconst jwt = require(\"jsonwebtoken\");\r\n\r\nconst app = express();\r\n\r\n// Pug로 view engine을 설정\r\napp.set(\"view engine\", \"pug\");\r\n\r\n// views 디렉토리 입력\r\napp.set(\"views\", __dirname + \"/views\");\r\n\r\n// 유저가 /public 으로 가게되면 __ dirname + \"/public\" 폴더 보여줌\r\napp.use(\"/public\", express.static(__dirname + \"/public\"));\r\n\r\n// home.pug를 render해주는 route handler를 생성 -> home.pug로 화면 전환\r\napp.get(\"/\", (req, res) => res.render(\"home\"));\r\n\r\n// 유저가 어떤 url로 이동하던지 홈으로 돌려보내는 코드\r\napp.get(\"/*\", (req, res) => res.redirect(\"/\"));\r\n\r\n//스프링으로부터 토큰을 받은 후 필요한 정보 추출\r\nconst token = \"tokenWithUserIdAndName\";\r\nconsole.log(\"token : \" + token);\r\nconst secretKey = \"secret_key_chat_token\";\r\n\r\ntry {\r\n  const decoded = jwt.verify(token, secretKey);\r\n  console.log(decoded);\r\n  const userName = decoded.userName;\r\n  const roomName = decoded.roomName;\r\n  console.log(\"userName : \" + userName);\r\n  console.log(\"roomName : \" + roomName);\r\n} catch (error) {\r\n  console.error(\"토큰 검증 실패:\", error.message);\r\n}\r\n\r\n//app.js로 값 전달\r\nmodule.exports = {\r\n  userName: userName,\r\n  roomName: roomName,\r\n};\r\n\r\nconst handleListen = () => console.log(`Listening on http://localhost:3000`);\r\n\r\nconst httpServer = http.createServer(app);\r\nconst wsServer = SocketIO(httpServer);\r\n\r\n// Backend에서 socket을 사용할 준비 완료\r\nwsServer.on(\"connection\", (socket) => {\r\n  // middleware -> 어떤 event에서든지 console.log를 할 수 있다(socket에 있는 모든 event를 확인가능)\r\n  socket.onAny((event) => {\r\n    console.log(`Socket event : ${event}`);\r\n  });\r\n  // frontend와 동일하게 원하는 이름으로 지정 가능 -> 단, frontend와 동일한 이름이어야 한다.\r\n  // done은 frontend의 익명함수를 의미 -> 서버는 backend에서 함수를 호출, 함수는 frontend에서 실행\r\n  socket.on(\"enter_room\", (roomName, nickname, done) => {\r\n    //닉네임 저장하기\r\n    socket[\"nickname\"] = nickname;\r\n    // 방에 참가하는 코드 => socket.join 사용\r\n    socket.join(roomName);\r\n    //app.js에 있는 showRoom() 실행\r\n    done();\r\n    //\"welcome\" 이벤트를 방 안에 있는 모든 사람에게 emit -> 나를 제외한 socket에 전송\r\n    socket.to(roomName).emit(\"welcome\", socket.nickname);\r\n  });\r\n\r\n  // 방과 연결 종료\r\n  socket.on(\"disconnecting\", () => {\r\n    // 클라이언트가 서버와 연결이 끊어지기 전에 \"bye\" message 전송\r\n    // socket.rooms({방 id, 방이름}) => 중복되는 요소가 없는 배열인 set -> 그레서 forEach 사용 가능\r\n    socket.rooms.forEach((room) =>\r\n      socket.to(room).emit(\"bye\", socket.nickname)\r\n    );\r\n  });\r\n\r\n  // 메세지 보내기\r\n  // roomName을 통해 어떤 방으로 메세지를 보내야 하는지 알 수 있음\r\n  socket.on(\"new_message\", (msg, roomName, done) => {\r\n    socket.to(roomName).emit(\"new_message\", `${socket[\"nickname\"]} : ${msg}`);\r\n    // done()을 호츨하면 app.js에 있는 handleMessageSubmit() 안의 익명 함수를 실행\r\n    done();\r\n  });\r\n});\r\n\r\nhttpServer.listen(3000, handleListen);\r\n"],"mappings":"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"}},"mtime":1704766509550}}