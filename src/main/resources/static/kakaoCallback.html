<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>카카오톡 로그인 콜백</title>
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body>
  <script>
    // URL에서 콜백 파라미터 추출
    function getParameterByName(name, url) {
      if (!url) url = window.location.href;
      name = name.replace(/[\[\]]/g, "\\$&");
      var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
          results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    // 콜백 처리 함수
    function handleCallback() {
      var code = getParameterByName('code');
      var state = getParameterByName('state');
      if (code && state) {
        // 로그인 성공 처리를 수행합니다.
        console.log("인가 코드: " + code);
        console.log("상태 코드: " + state);
        // 필요한 추가 작업을 수행합니다.
      } else {
        // 로그인 실패 처리를 수행합니다.
        console.log("로그인 실패");
        // 필요한 실패 처리 작업을 수행합니다.
      }
    }

    // 콜백 처리 함수 호출
    $(document).ready(function() {
      handleCallback();
    });
  </script>
</body>
</html>